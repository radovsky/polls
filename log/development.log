  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEverything (20140619180143)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "polls" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "author" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "answer_choices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "responses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "answer_choice_id" integer) 
  [1m[36mSQL (7.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140619180143"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to EditPolls (20140619181610)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140619181610"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to EditPolls (20140619181610)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20140619181610'
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateEverything (20140619180143)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "responses"
  [1m[36m (1.1ms)[0m  [1mDROP TABLE "answer_choices"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "questions"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "polls"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20140619180143'[0m
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateEverything (20140619180143)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255)) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "polls" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "author_id" integer) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "poll_id" integer) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "answer_choices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text, "question_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "responses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "answer_choice_id" integer) [0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140619180143"]]
  [1m[36m (42.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username") VALUES (?)  [["username", "Bob"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "polls" ("author_id", "title") VALUES (?, ?)[0m  [["author_id", 1], ["title", "Why can't I do rails?"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "questions" ("poll_id", "text") VALUES (?, ?)  [["poll_id", 1], ["text", "How do I do a migration?"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "answer_choices" ("question_id", "text") VALUES (?, ?)[0m  [["question_id", 1], ["text", "a. just start typing random letters"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "answer_choices" ("question_id", "text") VALUES (?, ?)  [["question_id", 1], ["text", "b. ask a TA"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "answer_choices" ("question_id", "text") VALUES (?, ?)[0m  [["question_id", 1], ["text", "c. find another line of work"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"   ORDER BY "answer_choices"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"   ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)  [["answer_choice_id", 1], ["user_id", 1]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mPoll Load (0.2ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPoll Load (0.2ms)[0m  [1mSELECT  "polls".* FROM "polls"   ORDER BY "polls"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPoll Load (0.2ms)[0m  [1mSELECT  "polls".* FROM "polls"   ORDER BY "polls"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT "questions".* FROM "questions"  WHERE "questions"."poll_id" = ?  [["poll_id", 1]]
  [1m[36mPoll Load (0.2ms)[0m  [1mSELECT  "polls".* FROM "polls"   ORDER BY "polls"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"  WHERE "questions"."poll_id" = ?  ORDER BY "questions"."id" ASC LIMIT 1  [["poll_id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."question_id" = ?[0m  [["question_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.3ms)[0m  SELECT "responses".* FROM "responses"
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.1ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.4ms)[0m      SELECT responses.id
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE answer_choices.user_id = 1
      AND answer_choices.question_id = 1

SQLite3::SQLException: no such column: answer_choices.user_id:     SELECT responses.id
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE answer_choices.user_id = 1
      AND answer_choices.question_id = 1

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.id
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

  [1m[36mResponse Load (0.3ms)[0m  [1mSELECT responses.id FROM responses[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT responses.id FROM responses
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT responses.id FROM responses[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT responses.* FROM responses
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.2ms)[0m  SELECT responses.* FROM responses
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.4ms)[0m  SELECT responses.respondent_id FROM responses
SQLite3::SQLException: no such column: responses.respondent_id: SELECT responses.respondent_id FROM responses
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT responses.user_id FROM responses[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT responses.user_id FROM responses[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT responses.user_id FROM responses[0m
  [1m[35mResponse Load (0.1ms)[0m  SELECT responses.* FROM responses
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT responses.user_id FROM responses[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT responses.* FROM responses
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT responses.* FROM responses[0m
  [1m[35mResponse Load (0.1ms)[0m  SELECT responses.* FROM responses
  [1m[36mResponse Load (2.1ms)[0m  [1mSELECT "responses".* FROM "responses"[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT "responses".* FROM "responses"
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.1ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)  [["answer_choice_id", 1], ["user_id", 1]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mResponse Load (0.2ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mResponse Load (0.1ms)[0m  SELECT "responses".* FROM "responses"
  [1m[36mResponse Load (0.2ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mResponse Load (2.9ms)[0m  [1mSELECT "responses".* FROM "responses"[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" DESC LIMIT 1
  [1m[36mSQL (5.3ms)[0m  [1mDELETE FROM "responses" WHERE "responses"."id" = 2[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT "responses".* FROM "responses"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAnswerChoice Load (0.0ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAnswerChoice Load (0.0ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.0ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAnswerChoice Load (0.0ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mQuestion Load (3.0ms)[0m  [1mSELECT "questions".* FROM "questions"[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT "questions"."id" FROM "questions"
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions"."id" FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  "questions"."id" FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions"."id" FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  questions.* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  questions.* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  questions.*, 1 AS secret_number FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  questions.*, 1 AS secret_number FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  questions.*, 1 AS secret_number FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(answer_choice.*, count(*)) AS count_answer_choice_all_count_all, answer_choice.id AS answer_choice_id FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choice.id[0m
SQLite3::SQLException: near "*": syntax error: SELECT COUNT(answer_choice.*, count(*)) AS count_answer_choice_all_count_all, answer_choice.id AS answer_choice_id FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choice.id
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mAnswerChoice Load (0.3ms)[0m  [1mSELECT answer_choice.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choice.id[0m
SQLite3::SQLException: no such table: answer_choice: SELECT answer_choice.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choice.id
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mAnswerChoice Load (0.2ms)[0m  [1mSELECT  answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id  ORDER BY "answer_choices"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "answer_choices" ("question_id", "text") VALUES (?, ?)[0m  [["question_id", 1], ["text", "Don't pick me"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.4ms)[0m  SELECT "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."question_id" = ?  [["question_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"   ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 1

[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPoll Load (0.1ms)[0m  [1mSELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username") VALUES (?)[0m  [["username", "Jake"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"   ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAnswerChoice Load (0.0ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 2
      AND answer_choices.question_id = 1


  [1m[36mQuestion Load (0.0ms)[0m  [1mSELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPoll Load (0.0ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)[0m  [["answer_choice_id", 1], ["user_id", 2]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username") VALUES (?)  [["username", "John"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"   ORDER BY "answer_choices"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mAnswerChoice Load (0.0ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 3
      AND answer_choices.question_id = 1

[0m
  [1m[35mQuestion Load (0.0ms)[0m  SELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPoll Load (0.0ms)[0m  [1mSELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)  [["answer_choice_id", 1], ["user_id", 3]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT  "responses".* FROM "responses"   ORDER BY "responses"."id" ASC LIMIT 1
  [1m[36mResponse Load (0.1ms)[0m  [1mSELECT "responses".* FROM "responses"[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id  ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36mAnswerChoice Load (0.2ms)[0m  [1mSELECT  answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id  ORDER BY "answer_choices"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT "responses".* FROM "responses"
  [1m[36mAnswerChoice Load (0.2ms)[0m  [1mSELECT  answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id  ORDER BY "answer_choices"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id
  [1m[36mAnswerChoice Load (0.2ms)[0m  [1mSELECT  answer_choices.*, count(*) FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY answer_choices.id  ORDER BY "answer_choices"."id" ASC LIMIT 1[0m
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "responses" JOIN answer_choices ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1)[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT "responses".* FROM "responses" JOIN answer_choices ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."question_id" = ?  [["question_id", 1]]
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT "responses".* FROM "responses"  WHERE "responses"."answer_choice_id" = ?[0m  [["answer_choice_id", 1]]
  [1m[35mResponse Load (0.1ms)[0m  SELECT "responses".* FROM "responses"  WHERE "responses"."answer_choice_id" = ?  [["answer_choice_id", 4]]
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT "responses".* FROM "responses"  WHERE "responses"."answer_choice_id" = ?[0m  [["answer_choice_id", 2]]
  [1m[35mResponse Load (0.1ms)[0m  SELECT "responses".* FROM "responses"  WHERE "responses"."answer_choice_id" = ?  [["answer_choice_id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 3
      AND answer_choices.question_id = 1


  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 3
      AND answer_choices.question_id = 1

[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPoll Load (0.1ms)[0m  [1mSELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username") VALUES (?)  [["username", "Billiam"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username") VALUES (?)[0m  [["username", "Blojo"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username") VALUES (?)  [["username", "Cletus"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username") VALUES (?)[0m  [["username", "Yancy"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAnswerChoice Load (0.0ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 4
      AND answer_choices.question_id = 1


  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPoll Load (0.0ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)[0m  [["answer_choice_id", 2], ["user_id", 4]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAnswerChoice Load (0.0ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 5
      AND answer_choices.question_id = 1


  [1m[36mQuestion Load (0.0ms)[0m  [1mSELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPoll Load (0.0ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)[0m  [["answer_choice_id", 2], ["user_id", 5]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 6
      AND answer_choices.question_id = 1


  [1m[36mQuestion Load (0.0ms)[0m  [1mSELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPoll Load (0.0ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)[0m  [["answer_choice_id", 3], ["user_id", 6]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAnswerChoice Load (0.0ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 7
      AND answer_choices.question_id = 1


  [1m[36mQuestion Load (0.0ms)[0m  [1mSELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPoll Load (0.0ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)[0m  [["answer_choice_id", 4], ["user_id", 7]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mResponse Load (0.2ms)[0m  [1mSELECT "responses".* FROM "responses" JOIN answer_choices ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id[0m
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(responses.*) AS count_responses_all, responses.answer_choice_id AS responses_answer_choice_id FROM "responses" JOIN answer_choices ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id[0m
SQLite3::SQLException: near "*": syntax error: SELECT COUNT(responses.*) AS count_responses_all, responses.answer_choice_id AS responses_answer_choice_id FROM "responses" JOIN answer_choices ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[35mQuestion Load (0.1ms)[0m  SELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT "responses".* FROM "responses" JOIN answer_choices ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT "answer_choices".* FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT answer_choices.id, COUNT(*) FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT COUNT(*) FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT COUNT(*) FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, responses.answer_choice_id AS responses_answer_choice_id FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(answer_choices.*) AS count_answer_choices_all, responses.answer_choice_id AS responses_answer_choice_id FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
SQLite3::SQLException: near "*": syntax error: SELECT COUNT(answer_choices.*) AS count_answer_choices_all, responses.answer_choice_id AS responses_answer_choice_id FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(answer_choices.*) AS count_answer_choices_all, responses.answer_choice_id AS responses_answer_choice_id FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
SQLite3::SQLException: near "*": syntax error: SELECT COUNT(answer_choices.*) AS count_answer_choices_all, responses.answer_choice_id AS responses_answer_choice_id FROM "answer_choices" JOIN responses ON answer_choices.id = responses.answer_choice_id WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.3ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.3ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" DESC LIMIT 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.3ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1 OFFSET 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1 OFFSET 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1 OFFSET 1
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.2ms)[0m  SELECT  answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id  ORDER BY "answer_choices"."id" ASC LIMIT 1 OFFSET 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT answer_choices.*, count(*) AS count FROM "answer_choices" INNER JOIN "responses" ON "responses"."answer_choice_id" = "answer_choices"."id" WHERE (answer_choices.question_id = 1) GROUP BY responses.answer_choice_id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m       SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = poll.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = poll.id
          AND responses.user_id = 1
        )

SQLite3::SQLException: no such column: poll.id:      SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = poll.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = poll.id
          AND responses.user_id = 1
        )

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m       SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = poll.id
          AND responses.user_id = 1
        )

SQLite3::SQLException: no such column: poll.id:      SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = poll.id
          AND responses.user_id = 1
        )

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m       SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        )

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPoll Load (0.3ms)[0m       SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        )

  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPoll Load (0.4ms)[0m       SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        )

  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPoll Load (0.2ms)[0m  SELECT "polls".* FROM "polls"  WHERE "polls"."author_id" = ?  [["author_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mResponse Load (0.2ms)[0m  SELECT "responses".* FROM "responses"  WHERE "responses"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username") VALUES (?)  [["username", "Johnathon"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1
  [1m[36mPoll Load (0.3ms)[0m  [1m     SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 8
        )
[0m
  [1m[35mPoll Load (0.2ms)[0m  SELECT  "polls".* FROM "polls"   ORDER BY "polls"."id" ASC LIMIT 1
  [1m[36mPoll Load (0.2ms)[0m  [1mSELECT  "polls".* FROM "polls"   ORDER BY "polls"."id" ASC LIMIT 1[0m
  [1m[35mQuestion Load (0.2ms)[0m  SELECT "questions".* FROM "questions"  WHERE "questions"."poll_id" = ?  [["poll_id", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1mSELECT  "questions".* FROM "questions"   ORDER BY "questions"."id" ASC LIMIT 1[0m
  [1m[35mAnswerChoice Load (0.1ms)[0m  SELECT "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."question_id" = ?  [["question_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "questions" ("poll_id", "text") VALUES (?, ?)  [["poll_id", 1], ["text", "don't use reload on rails"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35mPoll Load (0.2ms)[0m  SELECT  "polls".* FROM "polls"   ORDER BY "polls"."id" ASC LIMIT 1
  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT "questions".* FROM "questions"  WHERE "questions"."poll_id" = ?[0m  [["poll_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPoll Load (0.3ms)[0m  [1m     SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        )
[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "answer_choices" ("question_id", "text") VALUES (?, ?)[0m  [["question_id", 2], ["text", "it won't do what you think it will"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAnswerChoice Load (0.1ms)[0m  [1mSELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mResponse Load (0.1ms)[0m      SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 1
      AND answer_choices.question_id = 2


  [1m[36mQuestion Load (0.1ms)[0m  [1mSELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mPoll Load (0.1ms)[0m  SELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAnswerChoice Load (0.0ms)[0m  SELECT  "answer_choices".* FROM "answer_choices"  WHERE "answer_choices"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mResponse Load (0.1ms)[0m  [1m    SELECT responses.*
    FROM responses
    JOIN answer_choices ON responses.answer_choice_id = answer_choices.id
    WHERE responses.user_id = 2
      AND answer_choices.question_id = 2

[0m
  [1m[35mQuestion Load (0.0ms)[0m  SELECT  "questions".* FROM "questions"  WHERE "questions"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mPoll Load (0.0ms)[0m  [1mSELECT  "polls".* FROM "polls"  WHERE "polls"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "responses" ("answer_choice_id", "user_id") VALUES (?, ?)  [["answer_choice_id", 5], ["user_id", 2]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1
  [1m[36mPoll Load (0.3ms)[0m  [1m     SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 2
        )
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPoll Load (0.4ms)[0m  [1m     SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        )
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPoll Load (0.4ms)[0m  [1m     SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        ) As num_completed
        AND num_completed > 0  
[0m
SQLite3::SQLException: near "As": syntax error:      SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        ) As num_completed
        AND num_completed > 0  

  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mPoll Load (0.4ms)[0m  [1m     SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        ) AS num_completed
        AND num_completed > 0  
[0m
SQLite3::SQLException: near "AS": syntax error:      SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
        ) AS num_completed
        AND num_completed > 0  

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mPoll Load (0.5ms)[0m       SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
         AS num_completed)
        AND num_completed > 0  

SQLite3::SQLException: near "AS": syntax error:      SELECT *
     FROM polls
     WHERE (
       SELECT COUNT(*)
       FROM questions
       WHERE questions.poll_id = polls.id
       ) = (
        SELECT COUNT(*)
        FROM responses
        JOIN answer_choices 
        ON responses.answer_choice_id = answer_choices.id
        JOIN questions 
        ON answer_choices.question_id = questions.id
        WHERE questions.poll_id = polls.id
          AND responses.user_id = 1
         AS num_completed)
        AND num_completed > 0  

